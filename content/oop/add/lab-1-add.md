---
title: Доп материалы к лаб 1
draft: false
created: 2024-09-18T10:22
tags:
---

Давай объединим ключевые принципы ООП — **инкапсуляцию**, **сокрытие**, **композицию**, **полиморфизм** — и добавим к ним концепцию **иммутабельности** для создания целостной картины.

### 1. **Инкапсуляция**

Инкапсуляция — это принцип объединения данных (свойств) и методов, работающих с этими данными, в единую сущность — класс. В C# это позволяет ограничить прямой доступ к данным объекта и контролировать его через методы (геттеры и сеттеры). Пример:

```csharp
class Person
{
    private string name;  // закрытое поле (инкапсуляция)

    public string Name  // публичное свойство для доступа
    {
        get { return name; }
        set { name = value; }
    }
}
```

Здесь поле `name` скрыто от внешнего мира, и доступ к нему осуществляется через свойство `Name`.

### 2. **Сокрытие (Информационное скрытие)**

Сокрытие (или информационное сокрытие) связано с инкапсуляцией и заключается в том, что внутренние детали реализации объекта скрываются, а наружу выставляется только необходимый функционал. В C# это реализуется через модификаторы доступа: `private`, `protected`, `public`, `internal`.

Пример:

```csharp
class Car
{
    private string engineType;  // Скрытое поле

    public void StartEngine()
    {
        // Здесь логика работы двигателя
        Console.WriteLine("Engine started.");
    }
}
```

Код, использующий класс `Car`, может только запускать двигатель, не зная деталей его реализации.

### 3. **Композиция**

Композиция — это принцип, при котором один объект создается из других объектов. При композиции один класс включает в себя экземпляры других классов и использует их для своей функциональности. Композиция подразумевает "отношение части и целого" и контролирует жизненный цикл включенных объектов.

Пример:

```csharp
class Engine
{
    public void Start() => Console.WriteLine("Engine started.");
}

class Car
{
    private Engine engine = new Engine();  // Композиция

    public void StartCar()
    {
        engine.Start();
    }
}
```

В данном примере класс `Car` содержит объект `Engine`, который управляется внутри автомобиля.

### 4. **Полиморфизм**

Полиморфизм — это способность объектов разных классов реагировать на один и тот же вызов методов по-разному. В C# полиморфизм реализуется через наследование и интерфейсы.

Пример использования полиморфизма с виртуальными методами:

```csharp
class Animal
{
    public virtual void Speak()
    {
        Console.WriteLine("Animal speaks.");
    }
}

class Dog : Animal
{
    public override void Speak()
    {
        Console.WriteLine("Dog barks.");
    }
}

class Cat : Animal
{
    public override void Speak()
    {
        Console.WriteLine("Cat meows.");
    }
}

Animal animal1 = new Dog();
Animal animal2 = new Cat();

animal1.Speak();  // Dog barks.
animal2.Speak();  // Cat meows.
```

Здесь вызов метода `Speak()` на разных объектах (`Dog` и `Cat`) приводит к различным результатам, хотя метод вызывается у одного и того же типа (`Animal`).

### 5. **Иммутабельность**

Иммутабельность — это концепция, которая означает, что объект не может быть изменен после создания. Это особенно полезно при работе с данными в многопоточном окружении или когда важно, чтобы объект оставался неизменным для предотвращения ошибок. В C#, тип `string` — это пример иммутабельного типа.

Пример:

```csharp
class ImmutablePerson
{
    public string Name { get; }
    public int Age { get; }

    public ImmutablePerson(string name, int age)
    {
        Name = name;
        Age = age;
    }
}
```

Здесь объект `ImmutablePerson` не может быть изменен после создания, что делает его предсказуемым и безопасным для использования.

### Как всё это связано:

- **Инкапсуляция** и **сокрытие** помогают управлять доступом к данным и методам объекта, предоставляя интерфейсы для безопасного взаимодействия с ним.
- **Композиция** позволяет строить сложные объекты из простых, делая их гибкими и модульными.
- **Полиморфизм** дает возможность взаимодействовать с объектами разных типов через единый интерфейс, упрощая расширение и поддержку кода.
- **Иммутабельность** обеспечивает безопасность и предсказуемость объектов, гарантируя, что их состояние не изменится после создания.

Все эти принципы вместе помогают создавать более структурированный, гибкий, устойчивый к ошибкам и легко поддерживаемый код в объектно-ориентированных системах.
